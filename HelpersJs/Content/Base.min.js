(function(a){if(!!a.BX.SavitskyiHub.BxHelpers.Helpers.Content.Base){return}BX.namespace("SavitskyiHub.BxHelpers.Helpers.Content.Base");BX.SavitskyiHub.BxHelpers.Helpers.Content.Base={params:{useFlexContainerEditMode:true,useReplaceCallto2TellInLink:true,useReplaceCaptchaSections:true},debugMessage:[],init:function(){if(this.params.useFlexContainerEditMode){this.stylizeSystemBlock()}if(this.params.useReplaceCallto2TellInLink){this.autoReplaceCallto2TellInLink()}if(this.params.useReplaceCaptchaSections){this.autoReplaceCaptchaSections()}},stylizeSystemBlock:function(){var d=document.querySelectorAll('[id^="bx_incl_area_"], [id^="comp_"]'),f=["display","flex-grow","flex-wrap","align-items","justify-content","width","max-width"],l,m,h,k,g,e,c,b;if(d.length){for(g=0;g<d.length;++g){c=d[g];l=c.closest((0>c.id.indexOf("comp_")?':not([id^="bx_incl_area_"])':':not([id^="comp_"])'));if(l!=null){m=getComputedStyle(l);h=getComputedStyle(c);for(e=0;e<f.length;++e){b=f[e];if(h[b]!=m[b]){k=b.replace(/(-\w)/,function(j,o,n,i){return o.substr(1).toUpperCase()});c.style[k]=m[b]}}}}}},autoReplaceCallto2TellInLink:function(){if(!BX.browser.IsMobile()){var c=BX.findChild(BX("bx-html"),{tag:"A"},true,true),b;if(null!=c){c.forEach(function(d){b=d.getAttribute("href");if(b&&"callto"==b.substr(0,6)){d.setAttribute("href","tel"+b.substr(6))}})}}},autoReplaceCaptchaSections:function(){var g=BX.findChildren(BX("bx-html"),{tag:"DIV",className:"helpers-form-captcha-replace"},true),b=BX.SavitskyiHub.BxHelpers.Helpers.Option.HELPERS_LIBRARY_PATH+"/HelpersAjax/Content/Captcha.php",d=[],e,f,c;if(g.length){for(e=0;e<g.length;++e){f=g[e].dataset;if(undefined==f.id){this.debugMessage.push("Missing Captcha dataset ID")}else{d.push(f.id)}}if(d.length){$.ajax({url:b,type:"POST",data:{mode:"GET_LIST",IDs:d},success:BX.delegate(function(h){var h=JSON.parse(h);if("success"==h.status){for(e=0;e<g.length;++e){f=g[e].dataset;c=h.result[f.id];if(undefined!=c){g[e].parentNode.innerHTML=c}}BX.SavitskyiHub.BxHelpers.Helpers.Content.Form.FormUpdateEvent()}else{this.debugMessage.push(h.message)}},this)})}}},refreshCaptcha:function(d){var b=BX.SavitskyiHub.BxHelpers.Helpers.Option.HELPERS_LIBRARY_PATH+"/HelpersAjax/Content/Captcha.php",c=d,e;$.ajax({url:b,type:"POST",data:{mode:"GET"},success:BX.delegate(function(f){var f=JSON.parse(f);if("success"==f.status){e=f.result;if(undefined!=e){c.parentNode.innerHTML=e}}else{this.debugMessage.push(f.message)}},this)})}};BX.ready(function(){BX.SavitskyiHub.BxHelpers.Helpers.Content.Base.init()})})(window);