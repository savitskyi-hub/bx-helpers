BX.namespace("SavitskyiHub.BxHelpers.Helpers.Content.Base");(function(){BX.SavitskyiHub.BxHelpers.Helpers.Content.Base={params:{useFlexContainerEditMode:true,useReplaceCallto2TellInLink:true,useReplaceCaptchaSections:true},debugMessage:[],init:function(){if(this.params.useFlexContainerEditMode){this.stylizeSystemBlock()}if(this.params.useReplaceCallto2TellInLink){this.autoReplaceCallto2TellInLink()}if(this.params.useReplaceCaptchaSections){this.autoReplaceCaptchaSections()}},stylizeSystemBlock:function(){var c=document.querySelectorAll('[id^="bx_incl_area_"], [id^="comp_"]'),e=["display","flex-grow","flex-wrap","align-items","justify-content","width","max-width"],k,l,g,h,f,d,b,a;if(c.length){for(f=0;f<c.length;++f){b=c[f];k=b.closest((0>b.id.indexOf("comp_")?':not([id^="bx_incl_area_"])':':not([id^="comp_"])'));if(k!=null){l=getComputedStyle(k);g=getComputedStyle(b);for(d=0;d<e.length;++d){a=e[d];if(g[a]!=l[a]){h=a.replace(/(-\w)/,function(j,n,m,i){return n.substr(1).toUpperCase()});b.style[h]=l[a]}}}}}},autoReplaceCallto2TellInLink:function(){if(!BX.browser.IsMobile()){var b=BX.findChild(BX("bx-html"),{tag:"A"},true,true),a;if(null!=b){b.forEach(function(c){a=c.getAttribute("href");if(a&&"callto"==a.substr(0,6)){c.setAttribute("href","tel"+a.substr(6))}})}}},autoReplaceCaptchaSections:function(){var f=BX.findChildren(BX("bx-html"),{tag:"DIV",className:"helpers-form-captcha-replace"},true),a=BX.SavitskyiHub.BxHelpers.Helpers.Option.HELPERS_LIBRARY_PATH+"/HelpersAjax/Content/Captcha.php",c=[],d,e,b;if(f.length){for(d=0;d<f.length;++d){e=f[d].dataset;if(undefined==e.id){this.debugMessage.push("Missing Captcha dataset ID")}else{c.push(e.id)}}if(c.length){$.ajax({url:a,type:"POST",data:{mode:"GET_LIST",IDs:c},success:BX.delegate(function(g){var g=JSON.parse(g);if("success"==g.status){for(d=0;d<f.length;++d){e=f[d].dataset;b=g.result[e.id];if(undefined!=b){f[d].parentNode.innerHTML=b}}BX.SavitskyiHub.BxHelpers.Helpers.Content.Form.FormUpdateEvent()}else{this.debugMessage.push(g.message)}},this)})}}},refreshCaptcha:function(c){var a=BX.SavitskyiHub.BxHelpers.Helpers.Option.HELPERS_LIBRARY_PATH+"/HelpersAjax/Content/Captcha.php",b=c,d;$.ajax({url:a,type:"POST",data:{mode:"GET"},success:BX.delegate(function(e){var e=JSON.parse(e);if("success"==e.status){d=e.result;if(undefined!=d){b.parentNode.innerHTML=d}}else{this.debugMessage.push(e.message)}},this)})}};BX.ready(function(){BX.SavitskyiHub.BxHelpers.Helpers.Content.Base.init()})})();