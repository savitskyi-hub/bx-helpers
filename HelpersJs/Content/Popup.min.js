BX.namespace("SavitskyiHub.BxHelpers.Helpers.Content.Popup");(function(){BX.SavitskyiHub.BxHelpers.Helpers.Content.Popup={init:function(){BX.bindDelegate(HTML,"click",{attribute:"data-fancy-helpers"},BX.delegate(function(e){var obData=e.toElement.dataset,popup;if(undefined!=obData.fancyCccstore&&null==(popup=BX(obData.fancyCccstore))){this.startLoader();setTimeout(BX.delegate(function(response){this.get(obData);this.finishLoader()},this),75)}else{this.show(popup,obData.fanfyAfterInit,obData.fancyBeforeInit)}},this))},show:function(content,afterInit,beforeInit){$.fancybox.open(content,{animationEffect:"fade",autoFocus:false,trapFocus:false,touch:false,baseTpl:'<div class="fancybox-container"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-stage"></div></div></div>',btnTpl:{smallBtn:'<button class="fancy-cccstore-close" data-fancybox-close><div class="icon g-close"></div></button>'},beforeShow:function(){if(undefined!=beforeInit){eval(beforeInit)}},afterShow:function(){if(undefined!=afterInit){eval(afterInit)}}})},getLoader:function(){return BX.findChild(BX("bx-html"),{className:"fancy-helpers-loader-screen"},true)},startLoader:function(){var loader=this.getLoader();new BX.easing({duration:150,start:{opacity:0},finish:{opacity:87},step:function(state){loader.style.opacity=state.opacity/100;loader.style.display="block"}}).animate()},finishLoader:function(){var loader=this.getLoader();new BX.easing({duration:450,start:{opacity:87},finish:{opacity:0},step:function(state){loader.style.opacity=state.opacity/100},complete:function(){loader.style.display="none"}}).animate()}}})();