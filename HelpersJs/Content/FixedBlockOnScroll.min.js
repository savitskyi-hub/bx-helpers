BX.namespace("SavitskyiHub.BxHelpers.Helpers.Content.FixedBlockOnScroll");(function(){BX.SavitskyiHub.BxHelpers.Helpers.Content.FixedBlockOnScroll={obListFixedBlock:{},debugMessage:[],init:function(o){var i={},m={},f=[],l={},h,c,b,e,d,n,g,k,a;if(undefined!==o&&BX.type.isPlainObject(o)){i=o}else{if(BX.type.isPlainObject(this.obListFixedBlock)&&BX.type.isNotEmptyObject(this.obListFixedBlock)){i=this.obListFixedBlock}}if(BX.type.isNotEmptyObject(i)){for(c in i){b=i[c];e=document.querySelector(b.container);d=document.querySelector(b.scrollBlock);n=document.querySelector(b.parentStaticBlock);g=document.querySelector(b.who);k=document.querySelector(b.who2to);a=document.querySelector(b.scrollingTag);if(!i.hasOwnProperty(c)){continue}else{if(!e){this.debugMessage.push('Selector "'+b.container+'" is not find');continue}else{if(!d){this.debugMessage.push('Selector "'+b.scrollBlock+'" is not find');continue}else{if(!n){this.debugMessage.push('Selector "'+b.parentStaticBlock+'" is not find');continue}else{if(!g){this.debugMessage.push('Selector "'+b.who+'" is not find');continue}else{if(!k){this.debugMessage.push('Selector "'+b.who2to+'" is not find');continue}else{if(typeof(b.scrollingTag)=="boolean"&&b.scrollingTag){this.debugMessage.push('Param "scrollingTag" in method must be empty');continue}else{if(typeof(b.scrollingTag)=="string"&&!a){this.debugMessage.push('Selector "'+b.scrollingTag+'" is not find');continue}}}}}}}}e.style.minHeight=d.offsetHeight+"px";f[c]=function(G){l=i[G];var r=document.querySelector(l.scrollBlock),z=document.querySelector(l.container),w=document.querySelector(l.parentStaticBlock),D=document.querySelector(l.who),p=document.querySelector(l.who2to);var v=BX.SavitskyiHub.BxHelpers.Helpers.Content.FixedBlockOnScroll,q,E,t,u,j,B,y,x,s,F,C,A;if(window.innerWidth<l.stopOnWidth){return}else{if(!r){return}}E=v.getMarginCompensate(r);t=r.offsetHeight;u=Math.floor(r.getBoundingClientRect().top+E);j=u+t;B=v.getMarginCompensate(z);y=z.offsetHeight;x=Math.floor(z.getBoundingClientRect().top+B);s=parseInt(x+y);F=w.offsetWidth;C=Math.floor(z.getBoundingClientRect().top+B);A=(y>t&&D.offsetHeight<p.offsetHeight);if(0>=u&&A){r.classList.add("fixed-start")}if(C>u){r.classList.remove("fixed-start");r.removeAttribute("style")}if(j>=s&&A){r.classList.add("fixed-stop");r.style.top=parseInt(y-t)+"px"}else{if(!r.classList.contains("fixed-stop")){if(t>s){r.classList.add("fixed-stop");r.style.top=parseInt(y-t)+"px"}}}if(r.classList.contains("fixed-stop")&&0<u){r.classList.remove("fixed-stop");r.removeAttribute("style")}if(r.classList.contains("fixed-start")&&!r.classList.contains("fixed-stop")){r.style.width=F+"px"}}}if(typeof(f)!=="undefined"){for(h in f){if(!i[h].scrollingTag){window.addEventListener("scroll",function(){f[h](h)})}else{document.querySelector(i[h].scrollingTag).onscroll=function(){f[h](h)}}window.addEventListener("resize",function(){f[h](h)})}}}},getMarginCompensate:function(a){var b=parseInt(getComputedStyle(a)["margin-top"]);if(b){if(b>0){return b*-1}else{if(b<0){return b}else{return 0}}}else{return 0}}}})();